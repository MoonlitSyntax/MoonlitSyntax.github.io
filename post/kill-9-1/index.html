

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href='https://static.dionysus.zip/static/favicon.ico' type="image/x-icon">
    <title>kill -9 1 - MoonlitSyntax</title>

    <link rel="stylesheet" href='https://static.dionysus.zip/static/css/app-GERNH3ZV.css'>


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body class="l-body">

<nav class="c-nav">
    <a href="/" class="c-nav__link">首页</a>
    <a href="/archives" class="c-nav__link">归档</a>
    <a href="/tags" class="c-nav__link">标签</a>
    <a href="/categories" class="c-nav__link">分类</a>
    <a href="/links" class="c-nav__link">友链</a>
    <a href="/about" class="c-nav__link">关于</a>
    <button id="search-button" class="c-nav__search-btn">
        <i class="fas fa-search"></i>
    </button>
</nav>


<div class="l-container">
    <div class="l-nav-spacer"></div>
    <main class="l-main">
        
<div class="c-post">
    <aside class="c-post__toc">
        <h2 class="c-post__toc-title">目录</h2>
        
        <div class="c-post__toc-empty">
            <i class="fas fa-info-circle"></i> 本文暂无小节
        </div>
        
    </aside>
    <div class="c-post__main">
        <header class="c-post__header">
            <h1 class="c-post__title">kill -9 1</h1>
            <div class="c-post__meta">
                <span class="c-post__meta-create"><i class="fas fa-calendar-plus"></i> 创建：2025-06-19 00:53</span>
                <span class="c-post__meta-updated"><i class="fas fa-calendar-check"></i> 更新：2025-06-19 00:53</span>
                <span class="c-post__meta-category"><i class="fas fa-folder-open"></i> 分类：<a href="/categories/%e9%9d%a2%e8%af%95"><strong>面试</strong></a></span>
            </div>
            <div class="c-post__tags">
                <a href="/tags/%e6%9d%82" class="c-post__tag">#杂</a>
            </div>
            <div class="c-post__description">
                今天面试被问到一个问题
            </div>
        </header>

        <article class="c-post__content prose"><p>今天面试被问到一个问题, pid为1的进程, 如果被kill掉会发生什么,我只想到pid为1的是<code>/sbin/init</code>进程, 在docker里就是启动容器的那行命令,在容器外kill掉这个进程会容器整个崩溃
于是想当然的认为会被直接kill掉它,发生crash</p>
<p>后来想想不对劲, 去翻看了一下<a href="https://pubs.opengroup.org/onlinepubs/009604499/functions/kill.html?utm_source=chatgpt.com">手册</a></p>
<blockquote>
<p>0号进程是<strong>是内核本身的一部分</strong>,不在用户空间,信号对其无效, 一般是<code>sched</code>/<code>swapper</code>
1号进程是一切用户进程的父进程,一般是<code>init</code>/<code>systemd</code></p>
</blockquote>
<ul>
<li><code>kill -9 0</code>的时候,<code>kill(0, SIGKILL)</code>,信号下发的时候会同时杀掉<strong>当前进程所属的整个进程组</strong>,在shell执行的表现就是,执行完后发现shell被关掉了</li>
<li><code>kill -9 1</code>的时候,如下图</li>
</ul>
<p><code>#define SIGNAL_UNKILLABLE	0x00000040 /* for init: ignore fatal signals */</code></p>
<p><div class="c-img" data-full="https://static.dionysus.zip/static/z-img/Pasted%20image%2020250619011511.png"><div class="c-img__ph"><div class="c-spinner"></div></div><img src="https://static.dionysus.zip/static/z-img/Pasted%20image%2020250619011511.png" alt="" loading="lazy" decoding="async" referrerpolicy="no-referrer" class="c-img__img"></div></p>
<p><code>kill -9 -1</code>的时候, 把信号发给所有能发的进程, 结果就是能kill的全kill掉</p>
</article>

        <nav class="c-post__nav">
            
            <a href="/post/6.14-%e8%85%be%e8%ae%af" class="c-post__nav-card c-post__nav-card--prev">
                <h3>‹ 上一篇</h3>
                <p class="c-post__nav-title">6.14 腾讯</p>
            </a>
            

            
            <a href="/post/macos%e6%8b%89%e7%9a%84" class="c-post__nav-card c-post__nav-card--next">
                <h3>下一篇 ›</h3>
                <p class="c-post__nav-title">MacOS拉的*</p>
            </a>
            
        </nav>
    </div>
</div>

    </main>
    <footer class="c-footer">
        <span id="jinrishici-sentence" class="c-footer__quote">今日诗词加载中....</span>
        <div class="c-footer__copy">
            Copyright © <span id="currentYear">2025</span> Dionysus. All rights reserved.
        </div>
    </footer>
</div>

<div id="algolia-search-mask" class="c-search-mask"></div>
<div id="algolia-search-modal" class="c-search-modal">
    <div class="c-search-modal__box">
        <div class="c-search-modal__header">搜索</div>
        <div class="c-search-modal__summary" id="algolia-search-summary" style="display:none;">共找到 0 条结果</div>
        <input type="text" id="algolia-search-input" class="c-search-modal__input" placeholder="请输入关键词..." />
        <div id="algolia-search-results" class="c-search-modal__results"></div>
        <div id="algolia-pagination" class="c-search-modal__pagination"></div>
        <hr class="c-search-modal__divider" />
    </div>
</div>

<script src='https://static.dionysus.zip/static/js/app-IJHRYWUS.js' defer></script>


<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js" defer></script>
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8" defer></script>
</body>
</html>

